<div class="modal-header">
  <h4 class="modal-title">Add Details On Progression</h4>
  <button type="button" class="close" aria-label="Close" (click)="activeModal.dismiss({type:'closeX'})">
    <span aria-hidden="true">&times;</span>
  </button>
</div>
<div class="modal-body">
  <form [formGroup]="formGroup">
    <div class="row">
      <div class="col-sm-12">
        <label>Date</label>
        <div class="form-group">
          <div class="input-group">
            <input class="form-control" placeholder="dd-mm-yyyy"
                   name="dp" ngbDatepicker #progressionDate="ngbDatepicker" formControlName="progressionDate">
            <div class="input-group-append">
              <button class="btn btn-outline-secondary calendar" (click)="progressionDate.toggle()" type="button">
                <i class="fas fa-calendar-alt"></i>
              </button>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12">
        <div class="card">
          <div class="card-body">
            <h5 class="card-title">Therapy</h5>
            <div class="row">
              <div class="col-sm-12 w-100">
                <label>Drugs</label>
                <ul class="list-group list-group-flush">
                  <li class="list-group-item" *ngFor="let drug of drugs;let idx = index">
                    <span class="w-80">{{drug.name}} - {{drug.times}} - {{drug.doses}}</span>
                    <button class="w-20" (click)="deleteDrug(idx)">
                      <i class="fas fa-trash-alt"></i>
                    </button>
                  </li>
                  <li class="list-group-item">
                    <div class="form">
                      <div class="form-group mx-sm-3 mb-2">
                        <label>Name</label>
                        <select class="form-control" formControlName="nameDrugs" (change)="drugNameChanged($event)">
                          <option *ngFor="let drugName of ukDrugs;let idx = index" [value]="idx">{{drugName}}</option>
                        </select>

                      </div>
                      <div class="form-group mx-sm-3 mb-2">
                        <label>Doses</label>
                        <select class="form-control" formControlName="dosesDrugs">
                          <option *ngFor="let dosesName of drugDoses" [value]="dosesName">{{dosesName}}</option>
                        </select>
                      </div>
                      <div class="form-group mx-sm-3 mb-2">
                        <label for="timeDrugs">Times</label>
                        <input type="number" class="form-control" id="timeDrugs" formControlName="timeDrugs">
                      </div>
                      <div class="form-group mx-sm-3 mb-2">
                        <label for="durationOfTherapy">Duration of therapy (days)</label>
                        <input type="number" class="form-control" id="durationOfTherapy"
                               formControlName="durationOfTherapy">
                      </div>
                      <div class="form-check">
                        <input class="form-check-input" type="checkbox" value="" id="oxygenAdded"
                               formControlName="oxygenAdded">
                        <label class="form-check-label" for="oxygenAdded">
                          Oxigen support - added
                        </label>
                      </div>
                      <div class="form-check">
                        <input class="form-check-input" type="checkbox" value="" id="oxygenRemoved"
                               formControlName="oxygenRemoved">
                        <label class="form-check-label" for="oxygenRemoved">
                          Oxigen support - removed
                        </label>
                      </div>
                      <div class="form-check">
                        <input class="form-check-input" type="checkbox" value="" id="mechanicalVentilationIntubation"
                               formControlName="mechanicalVentilationIntubation">
                        <label class="form-check-label" for="mechanicalVentilationIntubation">
                          Mechanical ventilation intubation
                        </label>
                      </div>
                      <div class="form-check">
                        <input class="form-check-input" type="checkbox" value="" id="mechanicalVentilationExtubation"
                               formControlName="mechanicalVentilationExtubation">
                        <label class="form-check-label" for="mechanicalVentilationExtubation">
                          Mechanical ventilation extubation
                        </label>
                      </div>
                      <div class="form-check">
                        <input class="form-check-input" type="checkbox" value="" id="ecmo" formControlName="ecmo">
                        <label class="form-check-label" for="ecmo">
                          ECMO
                        </label>
                      </div>
                      <div class="form-check">
                        <input class="form-check-input" type="checkbox" value="" id="dialysisYes"
                               formControlName="dialysisYes">
                        <label class="form-check-label" for="dialysisYes">
                          Dialysis - Yes
                        </label>
                      </div>
                      <div class="form-check">
                        <input class="form-check-input" type="checkbox" value="" id="dialysisNo"
                               formControlName="dialysisNo">
                        <label class="form-check-label" for="dialysisNo">
                          Dialysis - No
                        </label>
                      </div>
                      <div class="form-check">
                        <input class="form-check-input" type="checkbox" value="" id="dialysisPreexisting"
                               formControlName="dialysisPreexisting">
                        <label class="form-check-label" for="dialysisPreexisting">
                          Dialysis - pre-existing requirement
                        </label>
                      </div>
                      <button type="button" class="btn btn-outline-primary btn-sm" (click)="addDrug()">
                        Add Drug
                      </button>
                    </div>
                  </li>
                </ul>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12">
        <div class="form-group">
          <label for="conditions">Conditions (separated by comma)</label>
          <input type="text" class="form-control" id="conditions" formControlName="conditions">
        </div>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12">
        <div class="card">
          <div class="card-body">
            <h5 class="card-title">Symptoms</h5>
            <div class="row">
              <div class="col-sm-12 w-100">
                <label>Symptoms</label>
              </div>
            </div>
            <div class="row pl-5 pr-5">
              <div class="col-3">
                <input class="form-check-input" type="checkbox" value="" id="noSymptoms"
                       formControlName="noSymptoms">
                <label class="form-check-label" for="noSymptoms">
                  No symptoms
                </label>
              </div>
              <div class="col-3">
                <input class="form-check-input" type="checkbox" value="" id="temperature"
                       formControlName="temperature">
                <label class="form-check-label" for="temperature">
                  Temperature
                </label>
              </div>
              <div class="col-3">
                <input class="form-check-input" type="checkbox" value="" id="soreThroat"
                       formControlName="soreThroat">
                <label class="form-check-label" for="soreThroat">
                  Sore throat
                </label>
              </div>
              <div class="col-3">
                <input class="form-check-input" type="checkbox" value="" id="dryCough"
                       formControlName="dryCough">
                <label class="form-check-label" for="dryCough">
                  Dry cough
                </label>
              </div>
            </div>
            <div class="row pl-5 pr-5">
              <div class="col-3">
                <input class="form-check-input" type="checkbox" value="" id="fatigue"
                       formControlName="fatigue">
                <label class="form-check-label" for="fatigue">
                  Fatigue
                </label>
              </div>
              <div class="col-3">
                <input class="form-check-input" type="checkbox" value="" id="nasalCongestion"
                       formControlName="fatigue">
                <label class="form-check-label" for="nasalCongestion">
                  Nasal congestion
                </label>
              </div>
              <div class="col-3">
                <input class="form-check-input" type="checkbox" value="" id="lossOfSmell"
                       formControlName="lossOfSmell">
                <label class="form-check-label" for="lossOfSmell">
                  Loss of smell
                </label>
              </div>
              <div class="col-3">
                <input class="form-check-input" type="checkbox" value="" id="lossOfTaste"
                       formControlName="lossOfTaste">
                <label class="form-check-label" for="lossOfTaste">
                  Loss of taste
                </label>
              </div>
            </div>
            <div class="row pl-5 pr-5">
              <div class="col-3">
                <input class="form-check-input" type="checkbox" value="" id="fever"
                       formControlName="fever">
                <label class="form-check-label" for="fever">
                  Fever
                </label>
              </div>
              <div class="col-3">
                <input class="form-check-input" type="checkbox" value="" id="sputumProduction"
                       formControlName="sputumProduction">
                <label class="form-check-label" for="sputumProduction">
                  Sputum production
                </label>
              </div>
              <div class="col-3">
                <input class="form-check-input" type="checkbox" value="" id="shortnessOfBreath"
                       formControlName="shortnessOfBreath">
                <label class="form-check-label" for="shortnessOfBreath">
                  Shortness of breath
                </label>
              </div>
              <div class="col-3">
                <input class="form-check-input" type="checkbox" value="" id="myalgia"
                       formControlName="myalgia">
                <label class="form-check-label" for="myalgia">
                  Myalgia / arthralgia
                </label>
              </div>
            </div>
            <div class="row pl-5 pr-5">
              <div class="col-3">
                <input class="form-check-input" type="checkbox" value="" id="headaches"
                       formControlName="headaches">
                <label class="form-check-label" for="headaches">
                  Headaches
                </label>
              </div>
              <div class="col-3">
                <input class="form-check-input" type="checkbox" value="" id="chills"
                       formControlName="chills">
                <label class="form-check-label" for="chills">
                  Chills
                </label>
              </div>
              <div class="col-3">
                <input class="form-check-input" type="checkbox" value="" id="pleauriticPain"
                       formControlName="pleauriticPain">
                <label class="form-check-label" for="pleauriticPain">
                  Pleauritic pain
                </label>
              </div>
              <div class="col-3">
                <input class="form-check-input" type="checkbox" value="" id="diarrhea"
                       formControlName="diarrhea">
                <label class="form-check-label" for="diarrhea">
                  Diarrhea
                </label>
              </div>
            </div>
            <div class="row pl-5 pr-5">
              <div class="col-3">
                <input class="form-check-input" type="checkbox" value="" id="dyspnoea"
                       formControlName="dyspnoea">
                <label class="form-check-label" for="dyspnoea">
                  Dyspnoea
                </label>
              </div>
              <div class="col-3">
                <input class="form-check-input" type="checkbox" value="" id="severeRespiratoryInsufficiency"
                       formControlName="severeRespiratoryInsufficiency">
                <label class="form-check-label" for="severeRespiratoryInsufficiency">
                  Severe respiratory insufficiency
                </label>
              </div>
              <div class="col-3">
                <input class="form-check-input" type="checkbox" value="" id="dermatologicLesion"
                       formControlName="dermatologicLesion">
                <label class="form-check-label" for="dermatologicLesion">
                  Dermatologic lesion/rash
                </label>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12">
        <div class="card">
          <div class="card-body">
            <h5 class="card-title">Blood</h5>
            <div class="row">
              <div class="col-sm-12 w-100">
                <label>Blood</label>
                <ul class="list-group list-group-flush">
                  <li class="list-group-item">
                    <div class="form">
                      <div class="form-group mx-sm-3 mb-2">
                        <label for="glucose">Glucose</label>
                        <div class="row">
                          <div class="col-8">
                            <input type="text" class="form-control" id="glucose" formControlName="glucose">
                          </div>
                          <div class="col-4 pl-1">
                            <select class="form-control" formControlName="glucoseUnits">
                              <option value="0">mmol/L</option>
                              <option value="1">mg/dL</option>
                            </select>
                          </div>
                        </div>
                      </div>
                      <div class="form-group mx-sm-3 mb-2">
                        <label for="pressureSystolic">Pessure Systolic</label>
                        <div class="row">
                          <div class="col-10">
                            <input type="text" class="form-control" id="pressureSystolic"
                                   formControlName="pressureSystolic">
                          </div>
                          <div class="col-2 pl-0">
                            mmHg
                          </div>
                        </div>
                      </div>
                      <div class="form-group mx-sm-3 mb-2">
                        <label for="pressureDiastolic">Pessure Diastolic</label>
                        <input type="text" class="form-control" id="pressureDiastolic"
                               formControlName="pressureDiastolic">
                      </div>
                    </div>
                  </li>
                </ul>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-12">
        <div class="card">
          <div class="card-body">
            <h5 class="card-title">Radiology</h5>
            <div class="row">
              <div class="col-sm-12 w-100">
                <label>Radiology</label>
                <div class="row">
                  <div class="col-sm-12">
                    <div class="card">
                      <div class="card-body">
                        <h2 class="card-title">CT</h2>
                        <div class="row">
                          <div class="col-12">
                            <h3>Changes in the lung parenchyma and pleura</h3>
                          </div>
                          <div class="col-sm-3">
                            <input class="form-check-input" type="checkbox" value="" id="hazyIncreasedOpacities"
                                   formControlName="hazyIncreasedOpacities">
                            <label class="form-check-label" for="hazyIncreasedOpacities">
                              Hazy increased opacities
                            </label>
                          </div>
                          <div class="col-sm-3">
                            <input class="form-check-input" type="checkbox" value="" id="consolidation"
                                   formControlName="consolidation">
                            <label class="form-check-label" for="consolidation">
                              Consolidation
                            </label>
                          </div>
                          <div class="col-sm-3">
                            <input class="form-check-input" type="checkbox" value="" id="crazyPavingPattern"
                                   formControlName="crazyPavingPattern">
                            <label class="form-check-label" for="crazyPavingPattern">
                              "Crazy paving" pattern
                            </label>
                          </div>
                          <div class="col-sm-3">
                            <input class="form-check-input" type="checkbox" value="" id="thickenedInterlobularSepta"
                                   formControlName="thickenedInterlobularSepta">
                            <label class="form-check-label" for="thickenedInterlobularSepta">
                              Thickened interlobular septa
                            </label>
                          </div>
                          <div class="col-sm-3">
                            <input class="form-check-input" type="checkbox" value="" id="airBronchogramSign"
                                   formControlName="airBronchogramSign">
                            <label class="form-check-label" for="airBronchogramSign">
                              Air bronchogram sign
                            </label>
                          </div>
                          <div class="col-sm-3">
                            <input class="form-check-input" type="checkbox" value="" id="bronchiectasis"
                                   formControlName="bronchiectasis">
                            <label class="form-check-label" for="bronchiectasis">
                              Bronchiectasis
                            </label>
                          </div>
                          <div class="col-sm-3">
                            <input class="form-check-input" type="checkbox" value="" id="pleuralThickening"
                                   formControlName="pleuralThickening">
                            <label class="form-check-label" for="pleuralThickening">
                              Pleural thickening
                            </label>
                          </div>
                          <div class="col-sm-3">
                            <input class="form-check-input" type="checkbox" value="" id="pneumothorax"
                                   formControlName="pneumothorax">
                            <label class="form-check-label" for="pneumothorax">
                              Pneumothorax
                            </label>
                          </div>
                          <div class="col-sm-3">
                            <input class="form-check-input" type="checkbox" value="" id="fibrousStripes"
                                   formControlName="fibrousStripes">
                            <label class="form-check-label" for="fibrousStripes">
                              Fibrous stripes
                            </label>
                          </div>
                        </div>
                        <div class="row pt-3">
                          <div class="col-12">
                            <h3>Other Localization: Affected lung lobes</h3>
                          </div>
                          <div class="col-sm-3">
                            <input class="form-check-input" type="checkbox" value="" id="bilateral"
                                   formControlName="bilateral">
                            <label class="form-check-label" for="bilateral">
                              Bilateral
                            </label>
                          </div>
                          <div class="col-sm-3">
                            <input class="form-check-input" type="checkbox" value="" id="multilobar"
                                   formControlName="multilobar">
                            <label class="form-check-label" for="multilobar">
                              Multilobar
                            </label>
                          </div>
                          <div class="col-sm-3">
                            <input class="form-check-input" type="checkbox" value="" id="emphasisOnLowerLobe"
                                   formControlName="emphasisOnLowerLobe">
                            <label class="form-check-label" for="emphasisOnLowerLobe">
                              Emphasis on lower lobe
                            </label>
                          </div>
                          <div class="col-sm-3">
                            <input class="form-check-input" type="checkbox" value="" id="emphasisPeriphery"
                                   formControlName="emphasisPeriphery">
                            <label class="form-check-label" for="emphasisPeriphery">
                              Emphasis periphery
                            </label>
                          </div>
                          <div class="col-sm-3">
                            <input class="form-check-input" type="checkbox" value="" id="emphasisPosterior"
                                   formControlName="emphasisPosterior">
                            <label class="form-check-label" for="emphasisPosterior">
                              Emphasis posterior
                            </label>
                          </div>
                        </div>
                        <div class="row pt-3">
                          <div class="col-12">
                            <h3>Further findings</h3>
                          </div>
                          <div class="col-sm-3">
                            <input class="form-check-input" type="checkbox" value="" id="pleuralEffusion"
                                   formControlName="pleuralEffusion">
                            <label class="form-check-label" for="pleuralEffusion">
                              Bilateral
                            </label>
                          </div>
                          <div class="col-sm-3">
                            <input class="form-check-input" type="checkbox" value="" id="pericardialEffusion"
                                   formControlName="pericardialEffusion">
                            <label class="form-check-label" for="pericardialEffusion">
                              Pleural effusion
                            </label>
                          </div>
                          <div class="col-sm-3">
                            <input class="form-check-input" type="checkbox" value="" id="lymphadenopathy"
                                   formControlName="lymphadenopathy">
                            <label class="form-check-label" for="lymphadenopathy">
                              Lymphadenopathy
                            </label>
                          </div>
                          <div class="col-sm-3">
                            <input class="form-check-input" type="checkbox" value="" id="vascularThickening"
                                   formControlName="vascularThickening">
                            <label class="form-check-label" for="vascularThickening">
                              Vascular thickening
                            </label>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                  <div class="col-sm-12">
                    <div class="form-group">
                      <label for="radMRI">MRI (separated by comma)</label>
                      <input type="text" class="form-control" id="radMRI" formControlName="radMRI">
                    </div>
                  </div>
                  <div class="col-sm-12">
                    <div class="form-group">
                      <label for="radCXR">CXR (separated by comma)</label>
                      <input type="text" class="form-control" id="radCXR" formControlName="radCXR">
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </form>
</div>
<div class="modal-footer">
  <button type="button" class="btn btn-outline-dark" (click)="activeModal.close({type:'close'})">Close</button>
  <button type="button" class="btn btn-outline-dark" (click)="save()">Save</button>
</div>
